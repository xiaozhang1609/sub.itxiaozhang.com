var Le=Object.defineProperty;var Pe=(e,t,n)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>Pe(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function z(){}function qe(e){return e()}function _e(){return Object.create(null)}function G(e){e.forEach(qe)}function je(e){return typeof e=="function"}function ne(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Te(e){return Object.keys(e).length===0}function Ue(e,...t){if(e==null){for(const s of t)s(void 0);return z}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ne(e,t,n){e.$$.on_destroy.push(Ue(t,n))}function c(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function N(){return $(" ")}function Ae(){return $("")}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ze(e){return Array.from(e.childNodes)}function P(e,t){t=""+t,e.data!==t&&(e.data=t)}function F(e,t,n){e.classList.toggle(t,!!n)}let ue;function J(e){ue=e}const x=[],ve=[];let K=[];const we=[],Ie=Promise.resolve();let oe=!1;function Ye(){oe||(oe=!0,Ie.then(ke))}function ae(e){K.push(e)}const ce=new Set;let R=0;function ke(){if(R!==0)return;const e=ue;do{try{for(;R<x.length;){const t=x[R];R++,J(t),Be(t.$$)}}catch(t){throw x.length=0,R=0,t}for(J(null),x.length=0,R=0;ve.length;)ve.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];ce.has(n)||(ce.add(n),n())}K.length=0}while(x.length);for(;we.length;)we.pop()();oe=!1,ce.clear(),J(e)}function Be(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}function Fe(e){const t=[],n=[];K.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),K=t}const te=new Set;let I;function Re(){I={r:0,c:[],p:I}}function Ve(){I.r||G(I.c),I=I.p}function Q(e,t){e&&e.i&&(te.delete(e),e.i(t))}function se(e,t,n,s){if(e&&e.o){if(te.has(e))return;te.add(e),I.c.push(()=>{te.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function $e(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function xe(e,t){se(e,1,1,()=>{t.delete(e.key)})}function Ke(e,t,n,s,r,i,l,o,u,a,D,b){let _=e.length,g=i.length,h=_;const k={};for(;h--;)k[e[h].key]=h;const E=[],S=new Map,M=new Map,U=[];for(h=g;h--;){const p=b(r,i,h),q=n(p);let y=l.get(q);y?U.push(()=>y.p(p,t)):(y=a(q,p),y.c()),S.set(q,E[h]=y),q in k&&M.set(q,Math.abs(h-k[q]))}const C=new Set,w=new Set;function m(p){Q(p,1),p.m(o,D),l.set(p.key,p),D=p.first,g--}for(;_&&g;){const p=E[g-1],q=e[_-1],y=p.key,A=q.key;p===q?(D=p.first,_--,g--):S.has(A)?!l.has(y)||C.has(y)?m(p):w.has(A)?_--:M.get(y)>M.get(A)?(w.add(y),m(p)):(C.add(A),_--):(u(q,l),_--)}for(;_--;){const p=e[_];S.has(p.key)||u(p,l)}for(;g;)m(E[g-1]);return G(U),E}function Oe(e){e&&e.c()}function fe(e,t,n){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),ae(()=>{const i=e.$$.on_mount.map(qe).filter(je);e.$$.on_destroy?e.$$.on_destroy.push(...i):G(i),e.$$.on_mount=[]}),r.forEach(ae)}function de(e,t){const n=e.$$;n.fragment!==null&&(Fe(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ge(e,t){e.$$.dirty[0]===-1&&(x.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pe(e,t,n,s,r,i,l=null,o=[-1]){const u=ue;J(e);const a=e.$$={fragment:null,ctx:[],props:i,update:z,not_equal:r,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:_e(),dirty:o,skip_bound:!1,root:t.target||u.$$.root};l&&l(a.root);let D=!1;if(a.ctx=n?n(e,t.props||{},(b,_,...g)=>{const h=g.length?g[0]:_;return a.ctx&&r(a.ctx[b],a.ctx[b]=h)&&(!a.skip_bound&&a.bound[b]&&a.bound[b](h),D&&Ge(e,b)),_}):[],a.update(),D=!0,G(a.before_update),a.fragment=s?s(a.ctx):!1,t.target){if(t.hydrate){const b=ze(t.target);a.fragment&&a.fragment.l(b),b.forEach(O)}else a.fragment&&a.fragment.c();t.intro&&Q(e.$$.fragment),fe(e,t.target,t.anchor),ke()}J(u)}class ge{constructor(){le(this,"$$");le(this,"$$set")}$destroy(){de(this,1),this.$destroy=z}$on(t,n){if(!je(n))return z;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!Te(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const He="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(He);const V=[];function Je(e,t=z){let n;const s=new Set;function r(o){if(ne(e,o)&&(e=o,n)){const u=!V.length;for(const a of s)a[1](),V.push(a,e);if(u){for(let a=0;a<V.length;a+=2)V[a][0](V[a+1]);V.length=0}}}function i(o){r(o(e))}function l(o,u=z){const a=[o,u];return s.add(a),s.size===1&&(n=t(r,i)||z),o(e),()=>{s.delete(a),s.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:l}}const Qe=[{id:1,name:"话费605",cost:25,currency:"CNY",renewalDate:"2024-12-01",billingCycle:"月付",status:"活跃",category:"手机话费"},{id:2,name:"话费189",cost:12,currency:"CNY",renewalDate:"2025-03-01",billingCycle:"月付",status:"活跃",category:"手机话费"},{id:3,name:"话费863",cost:8,currency:"CNY",renewalDate:"2025-04-01",billingCycle:"月付",status:"活跃",category:"手机话费"},{id:4,name:"itxiaozhang.com",cost:10.44,currency:"USD",renewalDate:"2025-11-30",billingCycle:"年付",status:"活跃",category:"域名"},{id:5,name:"giffgaff卡-短信保号",cost:3,currency:"CNY",renewalDate:"2024-11-20",billingCycle:"5月付",status:"活跃",category:"手机话费"},{id:6,name:"Racknerd主机",cost:26,currency:"USD",renewalDate:"2024-11-30",billingCycle:"年付",status:"活跃",category:"VPS"},{id:7,name:"Bandwagon主机",cost:49,currency:"USD",renewalDate:"2025-03-18",billingCycle:"年付",status:"活跃",category:"VPS"},{id:8,name:"魔法2",cost:59.99,currency:"CNY",renewalDate:"2025-05-07",billingCycle:"年付",status:"活跃",category:"魔法"},{id:9,name:"fixpc.cc",cost:8,currency:"USD",renewalDate:"2025-07-15",billingCycle:"年付",status:"活跃",category:"域名"},{id:10,name:"gwang.top",cost:4.88,currency:"USD",renewalDate:"2025-06-26",billingCycle:"年付",status:"活跃",category:"域名"}];function We(){const{subscribe:e,set:t,update:n}=Je({subscriptions:Qe});return{subscribe:e,addSubscription:s=>n(r=>({subscriptions:[...r.subscriptions,s]})),removeSubscription:s=>n(r=>({subscriptions:r.subscriptions.filter(i=>i.id!==s)})),updateSubscription:s=>n(r=>({subscriptions:r.subscriptions.map(i=>i.id===s.id?s:i)}))}}const Ee=We();function De(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}function Me(e){const t=new Date,s=new Date(e).getTime()-t.getTime();return Math.ceil(s/(1e3*60*60*24))<=30}function Xe(e,t){return new Intl.NumberFormat("zh-CN",{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}function Ze(e){let t,n=Math.abs(e[1])+"",s,r;return{c(){t=$("已过期 "),s=$(n),r=$(" 天")},m(i,l){T(i,t,l),T(i,s,l),T(i,r,l)},p(i,l){l&2&&n!==(n=Math.abs(i[1])+"")&&P(s,n)},d(i){i&&(O(t),O(s),O(r))}}}function et(e){let t,n,s;return{c(){t=$("还剩 "),n=$(e[1]),s=$(" 天")},m(r,i){T(r,t,i),T(r,n,i),T(r,s,i)},p(r,i){i&2&&P(n,r[1])},d(r){r&&(O(t),O(n),O(s))}}}function tt(e){let t,n,s,r,i=e[0].name+"",l,o,u,a,D=e[0].category+"",b,_,g,h=e[0].billingCycle+"",k,E,S,M,U,C,w,m,p,q,y,A,W=De(e[0].renewalDate)+"",ie,he,H,me,Y,X,be,B,Z=e[0].status+"",re;function ye(v,j){return v[1]>0?et:Ze}let ee=ye(e),L=ee(e);return{c(){t=f("div"),n=f("div"),s=f("div"),r=f("h2"),l=$(i),o=N(),u=f("div"),a=f("span"),b=$(D),_=N(),g=f("span"),k=$(h),E=N(),S=f("div"),M=$(e[2]),U=N(),C=f("div"),w=f("div"),m=f("div"),p=f("span"),p.textContent="续费日期",q=N(),y=f("div"),A=f("span"),ie=$(W),he=N(),H=f("span"),L.c(),me=N(),Y=f("div"),X=f("span"),X.textContent="状态",be=N(),B=f("span"),re=$(Z),d(r,"class","svelte-1q24pl5"),d(a,"class","category-tag svelte-1q24pl5"),d(g,"class","cycle-tag svelte-1q24pl5"),d(u,"class","tags svelte-1q24pl5"),d(s,"class","title-group svelte-1q24pl5"),d(S,"class","cost-badge svelte-1q24pl5"),d(n,"class","card-header svelte-1q24pl5"),d(p,"class","label svelte-1q24pl5"),d(A,"class","date svelte-1q24pl5"),d(H,"class","days-left svelte-1q24pl5"),d(y,"class","renewal-info svelte-1q24pl5"),F(y,"urgent",e[3]),d(m,"class","info-item svelte-1q24pl5"),d(X,"class","label svelte-1q24pl5"),d(B,"class","status-tag svelte-1q24pl5"),F(B,"urgent",e[3]),d(Y,"class","info-item svelte-1q24pl5"),d(w,"class","info-row svelte-1q24pl5"),d(C,"class","card-content"),d(t,"class","card svelte-1q24pl5"),F(t,"urgent",e[3])},m(v,j){T(v,t,j),c(t,n),c(n,s),c(s,r),c(r,l),c(s,o),c(s,u),c(u,a),c(a,b),c(u,_),c(u,g),c(g,k),c(n,E),c(n,S),c(S,M),c(t,U),c(t,C),c(C,w),c(w,m),c(m,p),c(m,q),c(m,y),c(y,A),c(A,ie),c(y,he),c(y,H),L.m(H,null),c(w,me),c(w,Y),c(Y,X),c(Y,be),c(Y,B),c(B,re)},p(v,[j]){j&1&&i!==(i=v[0].name+"")&&P(l,i),j&1&&D!==(D=v[0].category+"")&&P(b,D),j&1&&h!==(h=v[0].billingCycle+"")&&P(k,h),j&4&&P(M,v[2]),j&1&&W!==(W=De(v[0].renewalDate)+"")&&P(ie,W),ee===(ee=ye(v))&&L?L.p(v,j):(L.d(1),L=ee(v),L&&(L.c(),L.m(H,null))),j&8&&F(y,"urgent",v[3]),j&1&&Z!==(Z=v[0].status+"")&&P(re,Z),j&8&&F(B,"urgent",v[3]),j&8&&F(t,"urgent",v[3])},i:z,o:z,d(v){v&&O(t),L.d()}}}function nt(e,t,n){let s,r,i,{subscription:l}=t;return e.$$set=o=>{"subscription"in o&&n(0,l=o.subscription)},e.$$.update=()=>{e.$$.dirty&1&&n(3,s=Me(l.renewalDate)),e.$$.dirty&1&&n(2,r=Xe(l.cost,l.currency)),e.$$.dirty&1&&n(1,i=Math.ceil((new Date(l.renewalDate).getTime()-new Date().getTime())/(1e3*60*60*24)))},[l,i,r,s]}class st extends ge{constructor(t){super(),pe(this,t,nt,tt,ne,{subscription:0})}}function Ce(e,t,n){const s=e.slice();return s[2]=t[n],s}function Se(e,t){let n,s,r;return s=new st({props:{subscription:t[2]}}),{key:e,first:null,c(){n=Ae(),Oe(s.$$.fragment),this.first=n},m(i,l){T(i,n,l),fe(s,i,l),r=!0},p(i,l){t=i;const o={};l&1&&(o.subscription=t[2]),s.$set(o)},i(i){r||(Q(s.$$.fragment,i),r=!0)},o(i){se(s.$$.fragment,i),r=!1},d(i){i&&O(n),de(s,i)}}}function it(e){let t,n=[],s=new Map,r,i=$e(e[0]);const l=o=>o[2].id;for(let o=0;o<i.length;o+=1){let u=Ce(e,i,o),a=l(u);s.set(a,n[o]=Se(a,u))}return{c(){t=f("div");for(let o=0;o<n.length;o+=1)n[o].c();d(t,"class","card-container svelte-u8tjpv")},m(o,u){T(o,t,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);r=!0},p(o,[u]){u&1&&(i=$e(o[0]),Re(),n=Ke(n,u,l,1,o,i,s,t,xe,Se,null,Ce),Ve())},i(o){if(!r){for(let u=0;u<i.length;u+=1)Q(n[u]);r=!0}},o(o){for(let u=0;u<n.length;u+=1)se(n[u]);r=!1},d(o){o&&O(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function rt(e,t,n){let s,r;return Ne(e,Ee,i=>n(1,r=i)),e.$$.update=()=>{e.$$.dirty&2&&n(0,s=[...r.subscriptions].sort((i,l)=>new Date(i.renewalDate).getTime()-new Date(l.renewalDate).getTime()))},[s,r]}class lt extends ge{constructor(t){super(),pe(this,t,rt,it,ne,{})}}function ct(e){let t,n,s,r,i,l,o,u,a,D,b,_,g,h,k,E,S,M,U,C,w;return C=new lt({}),{c(){t=f("div"),n=f("header"),s=f("div"),r=f("h1"),r.textContent="小章的订阅管理",i=N(),l=f("div"),o=f("div"),u=f("span"),a=$(e[1]),D=N(),b=f("span"),b.textContent="总订阅",_=N(),g=f("div"),h=f("span"),k=$(e[0]),E=N(),S=f("span"),S.textContent="待续费",M=N(),U=f("main"),Oe(C.$$.fragment),d(r,"class","svelte-tatij0"),d(u,"class","stat-value svelte-tatij0"),d(b,"class","stat-label svelte-tatij0"),d(o,"class","stat-item svelte-tatij0"),d(h,"class","stat-value svelte-tatij0"),d(S,"class","stat-label svelte-tatij0"),d(g,"class","stat-item urgent svelte-tatij0"),d(l,"class","stats svelte-tatij0"),d(s,"class","header-content svelte-tatij0"),d(n,"class","svelte-tatij0"),d(t,"class","container svelte-tatij0")},m(m,p){T(m,t,p),c(t,n),c(n,s),c(s,r),c(s,i),c(s,l),c(l,o),c(o,u),c(u,a),c(o,D),c(o,b),c(l,_),c(l,g),c(g,h),c(h,k),c(g,E),c(g,S),c(t,M),c(t,U),fe(C,U,null),w=!0},p(m,[p]){(!w||p&2)&&P(a,m[1]),(!w||p&1)&&P(k,m[0])},i(m){w||(Q(C.$$.fragment,m),w=!0)},o(m){se(C.$$.fragment,m),w=!1},d(m){m&&O(t),de(C)}}}function ot(e,t,n){let s,r,i;return Ne(e,Ee,l=>n(2,i=l)),e.$$.update=()=>{e.$$.dirty&4&&n(1,s=i.subscriptions.length),e.$$.dirty&4&&n(0,r=i.subscriptions.filter(l=>Me(l.renewalDate)).length)},[r,s,i]}class at extends ge{constructor(t){super(),pe(this,t,ot,ct,ne,{})}}new at({target:document.getElementById("app")});
